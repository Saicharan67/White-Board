[{"C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\reportWebVitals.js":"1","C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\App.js":"2","C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\Components\\Main\\Main.js":"3","C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\index.js":"4","C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\Components\\Features\\pages\\Newpages.js":"5","C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\Components\\Features\\Shapes\\Rect.js":"6"},{"size":362,"mtime":1610716126631,"results":"7","hashOfConfig":"8"},{"size":118,"mtime":1610717690156,"results":"9","hashOfConfig":"8"},{"size":10907,"mtime":1615652980938,"results":"10","hashOfConfig":"8"},{"size":500,"mtime":1616223943110,"results":"11","hashOfConfig":"8"},{"size":4800,"mtime":1616601299061,"results":"12","hashOfConfig":"8"},{"size":453,"mtime":1614789550660,"results":"13","hashOfConfig":"14"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},"1fb3twc",{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":24,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"17"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"1rl9plu","C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\reportWebVitals.js",[],["30","31"],"C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\App.js",[],"C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\Components\\Main\\Main.js",["32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55"],"import React, { useEffect, useState } from 'react';\r\nimport './style.css'\r\nimport NewPages from '../Features/pages/Newpages.js'\r\n\r\nconst Board = () => {\r\n    const Colors = ['black', 'blue', 'red', 'green', 'yellow']\r\n    const [drawing, setdrawing] = useState(false)\r\n    const [color, setcolor] = useState('black')\r\n    const [eraserlinewidth, seteraserlinewidht] = useState('10')\r\n    const [linewidth, setlinewidth] = useState(2)\r\n    const [redo_list, set_redo] = useState([])\r\n    const [undo_list, set_undo] = useState([])\r\n    const [flag, setflag] = useState(0)\r\n    const [state, setstate] = useState('pencil')\r\n    let canvas;\r\n    let ctx;\r\n\r\n    useEffect(() => {\r\n\r\n        canvas = document.getElementsByClassName(\"canvas\")[0];\r\n        ctx = canvas.getContext('2d')\r\n\r\n    })\r\n    useEffect(() => {\r\n        window.addEventListener('load', () => {\r\n            console.log(JSON.parse(localStorage.getItem(\"Pages\")) ? JSON.parse(localStorage.getItem(\"Pages\")).length : 'notcame')\r\n           \r\n            if (JSON.parse(localStorage.getItem(\"Pages\"))) {\r\n                var prevState = JSON.parse(localStorage.getItem(\"Pages\"));\r\n                var imageObj = new Image();\r\n                imageObj.src = prevState[0]\r\n                console.log(prevState[0])\r\n                imageObj.onload = function () {\r\n                    ctx.clearRect(0, 0, 1900, 1000);\r\n                    ctx.drawImage(imageObj, 0, 0, 1900, 1000, 0, 0, 1900, 1000);\r\n                }\r\n                set_redo([])\r\n                set_undo([])\r\n                setflag(1)\r\n            }\r\n\r\n        })\r\n        window.addEventListener('resize', () => {\r\n          \r\n            window.location.reload()\r\n        })\r\n        window.addEventListener('keydown', function (event) {\r\n            if (event.key == 'z' && event.ctrlKey) {\r\n                console.log('came')\r\n                undo(canvas, ctx)\r\n            }\r\n        })\r\n\r\n    }, [])\r\n\r\n\r\n    const saveState = (canvas, list, keep_redo) => {\r\n        keep_redo = keep_redo || false;\r\n        if (!keep_redo) {\r\n            set_redo([]);\r\n        }\r\n        if (list) {\r\n            if (list.name == 'undo') {\r\n                set_undo(undo_list => [...undo_list, canvas.toDataURL()])\r\n            }\r\n            else {\r\n                set_redo(redo_list => [...redo_list, canvas.toDataURL()])\r\n            }\r\n        }\r\n        else {\r\n            set_undo(undo_list => [...undo_list, canvas.toDataURL()])\r\n        }\r\n        console.log(undo_list.length, redo_list.length)\r\n    }\r\n\r\n    const undo = (canvas, ctx) => {\r\n\r\n        restoreState(canvas, ctx, { name: 'undo', list: undo_list }, { name: 'redo', list: redo_list });\r\n\r\n    }\r\n\r\n\r\n\r\n    const redo = (canvas, ctx) => {\r\n        restoreState(canvas, ctx, { name: 'redo', list: redo_list }, { name: 'undo', list: undo_list });\r\n\r\n    }\r\n\r\n    const restoreState = (canvas, ctx, poping, pushing) => {\r\n\r\n        if (poping.list.length) {\r\n\r\n            saveState(canvas, pushing, true);\r\n\r\n            var restore_state = poping.list.pop();\r\n\r\n            var temp_list = poping.list\r\n            if (poping.name == 'undo') {\r\n                set_undo([...temp_list])\r\n            }\r\n            else {\r\n                set_redo([...temp_list])\r\n            }\r\n            var imageObj1 = new Image();\r\n            imageObj1.src = restore_state\r\n            imageObj1.onload = function () {\r\n                ctx.clearRect(0, 0, 1900, 1000);\r\n                ctx.drawImage(imageObj1, 0, 0, 1900, 1000, 0, 0, 1900, 1000);\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n    const draw = (e) => {\r\n\r\n        if (!drawing) return;\r\n        canvas = document.getElementsByClassName(\"canvas\")[0];\r\n        ctx = canvas.getContext('2d')\r\n        ctx.lineWidth = state != 'pencil' ? eraserlinewidth : linewidth;\r\n        ctx.lineCap = 'round'\r\n        ctx.strokeStyle = state != 'pencil' ? 'white' : color\r\n        var left = e.clientX-canvas.offsetLeft\r\n        var top = e.clientY-canvas.offsetTop;\r\n        \r\n        ctx.lineTo(left, top)\r\n        ctx.stroke()\r\n        ctx.beginPath()\r\n        ctx.moveTo(left, top)\r\n\r\n    }\r\n\r\n    const startDrawing = (evt) => {\r\n\r\n        setdrawing(true)\r\n        saveState(canvas);\r\n        console.log(canvas)\r\n        localStorage.setItem(\"undo_list\", JSON.stringify(undo_list));\r\n        draw(evt)\r\n\r\n    }\r\n    const finishDrawing = () => {\r\n        setdrawing(false)\r\n        ctx.beginPath()\r\n\r\n    }\r\n\r\n    const erase = (e) => {\r\n        setstate('erase')\r\n        document.getElementsByClassName(\"canvas\")[0].style.cursor = \"pointer\"\r\n\r\n    }\r\n    const pencil = (e) => {\r\n        setstate('pencil')\r\n        document.getElementsByClassName(\"canvas\")[0].style.cursor = \"crosshair\"\r\n\r\n    }\r\n    const rectangle = () => {\r\n        setstate('pencil')\r\n        let xPlace = 100;\r\n        let yPlace = 130;\r\n        document.getElementsByClassName('canvas')[0].addEventListener('click', (event) => {\r\n            xPlace = event.clientX-canvas.offsetLeft\r\n            yPlace = event.clientY-canvas.offsetTop\r\n            ctx.beginPath();\r\n            ctx.lineWidth = linewidth;\r\n            ctx.strokeStyle = color;\r\n            ctx.rect(xPlace, yPlace, 300, 150);\r\n            ctx.stroke();\r\n            ctx.beginPath();\r\n\r\n\r\n        }, { once: true })\r\n    }\r\n    const square = () => {\r\n        setstate('pencil')\r\n        let xPlace = 100;\r\n        let yPlace = 130;\r\n        document.getElementsByClassName('canvas')[0].addEventListener('click', (event) => {\r\n            xPlace = event.clientX-canvas.offsetLeft\r\n            yPlace = event.clientY-canvas.offsetTop\r\n            ctx.beginPath();\r\n            ctx.lineWidth = linewidth;\r\n            ctx.strokeStyle = color;\r\n            ctx.rect(xPlace, yPlace, 200, 200);\r\n            ctx.stroke();\r\n            ctx.beginPath();\r\n\r\n\r\n        }, { once: true })\r\n\r\n    }\r\n    const Circle = () => {\r\n        setstate('pencil')\r\n        let xPlace = 100;\r\n        let yPlace = 130;\r\n        document.getElementsByClassName('canvas')[0].addEventListener('click', (event) => {\r\n            xPlace = event.clientX-canvas.offsetLeft\r\n            yPlace = event.clientY-canvas.offsetTop\r\n\r\n            ctx.beginPath();\r\n            ctx.lineWidth = linewidth;\r\n            ctx.strokeStyle = color;\r\n            ctx.arc(xPlace, yPlace, 200, 0, 2 * Math.PI, false);\r\n            ctx.stroke();\r\n            ctx.beginPath();\r\n\r\n        }, { once: true })\r\n\r\n    }\r\n    const insertText = () => {\r\n        setdrawing(false)\r\n        var mouseX = 0\r\n        var mouseY = 0;\r\n        var startingX = 0;\r\n\r\n        document.addEventListener(\"click\", function (e) {\r\n            mouseX = e.clientX;\r\n            startingX = mouseX\r\n            mouseY = e.clientY;\r\n\r\n            return false\r\n\r\n        }, false)\r\n\r\n        document.addEventListener(\"keydown\", (e) => {\r\n            ctx.font = \"30px Times New Roman\"\r\n            if (e.key == \"Enter\") {\r\n                mouseX = startingX;\r\n                mouseY += 20\r\n            }\r\n            else if (e.keyCode === 8) {\r\n                undo(canvas, ctx)\r\n                mouseX -= ctx.measureText(e.key).width;\r\n            } else {\r\n                ctx.fillText(e.key, mouseX, mouseY)\r\n                saveState(canvas)\r\n                mouseX += ctx.measureText(e.key).width;\r\n            }\r\n\r\n        }, false)\r\n    }\r\n    const chooseColor = (clr) => {\r\n        setcolor(clr)\r\n    }\r\n\r\n    const setline = (e) => {\r\n        setlinewidth(e.target.value)\r\n    }\r\n\r\n    const seteraserline = (e) => {\r\n        seteraserlinewidht(e.target.value)\r\n    }\r\n\r\n    const callundo = () => {\r\n        undo(canvas, ctx);\r\n    }\r\n\r\n    const callredo = () => {\r\n        redo(canvas, ctx);\r\n    }\r\n\r\n    const clearRect = () => {\r\n        ctx.clearRect(0, 0, 1900, 1000)\r\n        set_redo([])\r\n        set_undo([])\r\n\r\n        //localStorage.setItem(\"Canvas\", JSON.stringify([canvas.toDataURL()]));\r\n    }\r\n\r\n    const download = () => {\r\n        var download = document.getElementsByClassName(\"download\")[0];\r\n        var image = canvas.toDataURL(\"image/png\")\r\n            .replace(\"image/png\", \"image/octet-stream\");\r\n        download.setAttribute(\"href\", image);\r\n    }\r\n\r\n    return (\r\n\r\n        <div className='root'>\r\n            <div className=\"options\">\r\n                <div className='sidebar'>\r\n                    <button className='iconsbutton' onClick={erase}>\r\n                    <img className=\"icons eraser\" src=\"./images/eraser.png\"/>  \r\n                    </button>\r\n                    <a className=\"download\" download=\"canvas.png\">\r\n                        <button className='iconsbutton' type=\"button\" onClick={download}> <img className=\"icons download\" src=\"./images/download.png\"/>   </button>\r\n                    </a>\r\n                    <button className='iconsbutton' id=\"pencil\" onClick={pencil}>\r\n                    <img className =\" icons pencil\" src=\"./images/pen.png\"/> \r\n                    </button>\r\n                    <button className='iconsbutton' id=\"undo\" onClick={insertText}>\r\n                    <img className=\"icons text\" src=\"./images/text.png\"/> \r\n                    </button>\r\n                    <button className='iconsbutton' id=\"undo\" onClick={callundo}>\r\n                    <img className=\"icons undo\" src=\"./images/undo-arrow.png\"/> \r\n                    </button>\r\n                    <button className='iconsbutton' id=\"redo\" onClick={callredo}>\r\n                    <img className=\"icons redo\" src=\"./images/redo-arrow.png\"/> \r\n                    </button>\r\n                    <button className='iconsbutton' id=\"redo\" onClick={clearRect}>\r\n                    <img className=\"icons undo\" src=\"./images/clear.png\"/> \r\n                    </button>\r\n                    <button className='iconsbutton' onClick={rectangle}>\r\n                    <img className=\"icons rectangle\" src=\"./images/rounded-rectangle.png\"/> \r\n                    </button>\r\n                    <button className='iconsbutton' onClick={square}>\r\n                    <img className=\"icons square\" src=\"./images/rounded-square.png\"/> \r\n                    </button>\r\n                    <button className='iconsbutton' onClick={Circle}>\r\n                    <img className=\"icons circle\" src=\"./images/circle.png\"/> \r\n                    </button>\r\n                </div>\r\n               \r\n                <div className=\"penciloptions\">\r\n                   \r\n                </div>\r\n            </div>\r\n            <NewPages settingundo={set_undo} settingredo={set_redo} drawingStatus={drawing} flag={flag} />\r\n            <div className=\"test\">\r\n\r\n                <canvas ref={canvas} height={window.innerHeight * 0.85} width={window.innerWidth * 0.85} className=\"canvas\" onMouseDown={startDrawing} onMouseUp={finishDrawing} onMouseMove={draw}> </canvas>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Board","C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\index.js",[],"C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\Components\\Features\\pages\\Newpages.js",["56","57","58","59","60","61","62","63","64","65","66","67","68"],"C:\\Users\\hp\\Desktop\\My Projs\\react projects\\whiteboard\\src\\Components\\Features\\Shapes\\Rect.js",[],["69","70"],{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":6,"column":11,"nodeType":"77","messageId":"78","endLine":6,"endColumn":17},{"ruleId":"79","severity":1,"message":"80","line":20,"column":18,"nodeType":"81","endLine":20,"endColumn":62},{"ruleId":"79","severity":1,"message":"82","line":21,"column":15,"nodeType":"83","endLine":21,"endColumn":38},{"ruleId":"84","severity":1,"message":"85","line":48,"column":27,"nodeType":"86","messageId":"87","endLine":48,"endColumn":29},{"ruleId":"79","severity":1,"message":"88","line":54,"column":8,"nodeType":"89","endLine":54,"endColumn":10,"suggestions":"90"},{"ruleId":"84","severity":1,"message":"85","line":63,"column":27,"nodeType":"86","messageId":"87","endLine":63,"endColumn":29},{"ruleId":"84","severity":1,"message":"85","line":98,"column":29,"nodeType":"86","messageId":"87","endLine":98,"endColumn":31},{"ruleId":"84","severity":1,"message":"91","line":119,"column":31,"nodeType":"86","messageId":"87","endLine":119,"endColumn":33},{"ruleId":"84","severity":1,"message":"91","line":121,"column":33,"nodeType":"86","messageId":"87","endLine":121,"endColumn":35},{"ruleId":"84","severity":1,"message":"85","line":227,"column":23,"nodeType":"86","messageId":"87","endLine":227,"endColumn":25},{"ruleId":"75","severity":1,"message":"92","line":242,"column":11,"nodeType":"77","messageId":"78","endLine":242,"endColumn":22},{"ruleId":"75","severity":1,"message":"93","line":246,"column":11,"nodeType":"77","messageId":"78","endLine":246,"endColumn":18},{"ruleId":"75","severity":1,"message":"94","line":250,"column":11,"nodeType":"77","messageId":"78","endLine":250,"endColumn":24},{"ruleId":"95","severity":1,"message":"96","line":283,"column":21,"nodeType":"97","endLine":283,"endColumn":78},{"ruleId":"98","severity":1,"message":"99","line":285,"column":21,"nodeType":"97","endLine":285,"endColumn":67},{"ruleId":"95","severity":1,"message":"96","line":286,"column":91,"nodeType":"97","endLine":286,"endColumn":152},{"ruleId":"95","severity":1,"message":"96","line":289,"column":21,"nodeType":"97","endLine":289,"endColumn":77},{"ruleId":"95","severity":1,"message":"96","line":292,"column":21,"nodeType":"97","endLine":292,"endColumn":74},{"ruleId":"95","severity":1,"message":"96","line":295,"column":21,"nodeType":"97","endLine":295,"endColumn":80},{"ruleId":"95","severity":1,"message":"96","line":298,"column":21,"nodeType":"97","endLine":298,"endColumn":80},{"ruleId":"95","severity":1,"message":"96","line":301,"column":21,"nodeType":"97","endLine":301,"endColumn":75},{"ruleId":"95","severity":1,"message":"96","line":304,"column":21,"nodeType":"97","endLine":304,"endColumn":92},{"ruleId":"95","severity":1,"message":"96","line":307,"column":21,"nodeType":"97","endLine":307,"endColumn":86},{"ruleId":"95","severity":1,"message":"96","line":310,"column":21,"nodeType":"97","endLine":310,"endColumn":78},{"ruleId":"75","severity":1,"message":"100","line":1,"column":28,"nodeType":"77","messageId":"78","endLine":1,"endColumn":34},{"ruleId":"79","severity":1,"message":"80","line":31,"column":14,"nodeType":"81","endLine":31,"endColumn":58},{"ruleId":"79","severity":1,"message":"82","line":32,"column":12,"nodeType":"83","endLine":32,"endColumn":35},{"ruleId":"79","severity":1,"message":"101","line":40,"column":6,"nodeType":"89","endLine":40,"endColumn":16,"suggestions":"102"},{"ruleId":"79","severity":1,"message":"103","line":63,"column":6,"nodeType":"89","endLine":63,"endColumn":21,"suggestions":"104"},{"ruleId":"84","severity":1,"message":"85","line":88,"column":16,"nodeType":"86","messageId":"87","endLine":88,"endColumn":18},{"ruleId":"84","severity":1,"message":"85","line":97,"column":20,"nodeType":"86","messageId":"87","endLine":97,"endColumn":22},{"ruleId":"84","severity":1,"message":"85","line":98,"column":25,"nodeType":"86","messageId":"87","endLine":98,"endColumn":27},{"ruleId":"84","severity":1,"message":"85","line":126,"column":17,"nodeType":"86","messageId":"87","endLine":126,"endColumn":19},{"ruleId":"75","severity":1,"message":"105","line":130,"column":14,"nodeType":"77","messageId":"78","endLine":130,"endColumn":26},{"ruleId":"95","severity":1,"message":"96","line":151,"column":89,"nodeType":"97","endLine":151,"endColumn":146},{"ruleId":"95","severity":1,"message":"96","line":155,"column":90,"nodeType":"97","endLine":155,"endColumn":143},{"ruleId":"95","severity":1,"message":"96","line":157,"column":87,"nodeType":"97","endLine":157,"endColumn":144},{"ruleId":"71","replacedBy":"106"},{"ruleId":"73","replacedBy":"107"},"no-native-reassign",["108"],"no-negated-in-lhs",["109"],"no-unused-vars","'Colors' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","Assignments to the 'canvas' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","MemberExpression","Assignments to the 'ctx' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","CallExpression","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook useEffect has missing dependencies: 'canvas', 'ctx', and 'undo'. Either include them or remove the dependency array.","ArrayExpression",["110"],"Expected '!==' and instead saw '!='.","'chooseColor' is assigned a value but never used.","'setline' is assigned a value but never used.","'seteraserline' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'useRef' is defined but never used.","React Hook useEffect has missing dependencies: 'settingredo' and 'settingundo'. Either include them or remove the dependency array. If 'settingundo' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["111"],"React Hook useEffect has missing dependencies: 'canvas', 'currPage', and 'flag'. Either include them or remove the dependency array.",["112"],"'firstelement' is assigned a value but never used.",["108"],["109"],"no-global-assign","no-unsafe-negation",{"desc":"113","fix":"114"},{"desc":"115","fix":"116"},{"desc":"117","fix":"118"},"Update the dependencies array to be: [canvas, ctx, undo]",{"range":"119","text":"120"},"Update the dependencies array to be: [currPage, settingredo, settingundo]",{"range":"121","text":"122"},"Update the dependencies array to be: [canvas, currPage, drawingStatus, flag]",{"range":"123","text":"124"},[1939,1941],"[canvas, ctx, undo]",[1083,1093],"[currPage, settingredo, settingundo]",[1723,1738],"[canvas, currPage, drawingStatus, flag]"]